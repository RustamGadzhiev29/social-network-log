{"version":3,"sources":["api/api.ts","assets/images/iconmen.png","components/assets/images/loader.svg","components/Navbar/Navbar.module.css","components/Navbar/Navbar.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","utils/object-helpers.ts","redux/user-reducer.tsx","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/UserFunc.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","redux/app-reducer.tsx","redux/auth-reducer.tsx","components/Header/HeaderContainer.tsx","components/login/Login.tsx","redux/login-reducer.tsx","redux/redux-store.tsx","components/common/ErrorSnackbar.tsx","redux/state.tsx","components/BestFrieds/BestFriends.tsx","App.tsx","hoc/withSuspence.tsx","index.tsx","components/Users/users.module.css","components/common/ToggleIsFetching.tsx","components/common/FormsControls/FormsControls.tsx","components/common/FormsControls/FormControls.module.css","components/common/Paginator/Paginator.module.css","components/BestFrieds/bestFriends.module.css","utils/validators/validators.ts","redux/profile-reducer.tsx","redux/dialogs-reducer.tsx","App.module.css","components/Header/Header.module.css"],"names":["ResultCodesEnum","instance","axios","create","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","get","unFollowUsers","userId","delete","then","response","data","followUsers","post","getProfile","profileAPI","getStatus","updateStatus","status","put","saveProfile","profile","savePhoto","photoFile","formData","FormData","append","securityAPI","getCaptchaUrl","authAPI","me","res","authUsers","login","email","password","rememberMe","captcha","logOut","module","exports","Navbar","className","classes","nav","item","to","activeClassName","active","News","Music","Settings","updateObjectInArray","items","itemId","objPropsName","newObjProps","map","u","initialState","users","totalUsersCount","isFetching","followingInProgress","follow","type","FOLLOW","unFollow","UNFOLLOW","toggleIsFetching","IS_FETCHING","isFollowingInProgress","IS_FOLLOWING_PROGRESS","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","usersReducer","state","action","followed","totalCount","filter","id","Paginator","totalItemsCount","onPageChanged","portionSize","pageCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","console","log","styles","myButton","onClick","p","selectPage","e","key","User","props","block","container","src","photos","small","userPhoto","additionalContainer","disabled","some","unFollowThunkCreator","followThunkCreator","info","name","Users","getUsersSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getIsAuth","auth","isAuth","UsersContainer","pageNumber","getUsersTC","this","pageTitle","ToggleIsFetching","React","Component","compose","connect","userID","dispatch","a","resultCode","Success","page","getState","Header","header","icon","faShip","loginBlock","loginOutTC","initialized","error","setAppErrorAC","SET_APP_ERROR","INITIALIZED_SUCCESED","appReducer","captchaUrl","setUserData","SET_USER_DATA","payload","getAuthUserData","getCaptchaUrlTC","captchaURL","url","GET_CAPTCHAURL_SUCCESS","authReducer","HeaderContainer","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","required","Login","useSelector","useDispatch","CaptchaIsRequired","message","messages","length","stopSubmit","_error","SET_LOGIN","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","formReducer","loginPage","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","Alert","elevation","variant","ErrorSnackbar","handleClose","event","reason","isOpen","Snackbar","open","autoHideDuration","onClose","_state","posts","countLikes","newPostText","dialogs","newMessageText","subsCribe","observer","rerenderEntireTree","BestFriends","bestFriends","friend","photoFriend","myBestFriends","profileFriend","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","promise","initializeAppTC","addEventListener","removeEventListener","appWrapper","appWrapperContent","exact","path","render","Suspense","fallback","asside","AppContainer","withRouter","Promise","all","SocialTSApp","ReactDOM","document","getElementById","preLoader","Textarea","input","meta","hasError","touched","formControl","value","maxLengthCreator","maxLength","v1","addPostActionCreator","ADD_POST","setStatusUpdate","SET_STATUS_UPDATE","deletePostAC","postId","DELETE_POST","getUserProfile","SET_USER_PROFILE","getUserStatus","SET_STATUS_PROFILE","getUpdateUserStatus","alert","getSavePhotoTC","file","photo","SET_SAVE_PHOTO","getSaveInfoTC","userIds","reject","newPost","addMessageCreator","newMessage","stateCopy"],"mappings":"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","file":"static/js/main.42b9cdea.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport {PhotosType, ProfileType} from \"../redux/profile-reducer\";\r\nimport {UsersType} from \"../redux/user-reducer\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"9d9825bb-ccb6-4efe-8fcf-e888d69867c3\"\r\n//         \"API-KEY\": \"53444f05-2fd9-4762-9034-1b37fffb30677897987\"\r\n    }\r\n})\r\n\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n      let promise = instance.get<ResponseGetUsersType>(`users?page=${currentPage}&count=${pageSize}`)\r\n        return promise\r\n            // .then((response: any) => {\r\n            //     return response.data\r\n            // });\r\n    },\r\n    unFollowUsers(userId: number) {\r\n        return instance.delete<ResponseUnfollowFollowType>(`follow/${userId}`)//когда хотим отписаться нужен delete\r\n            .then((response: any) => {\r\n                return response.data\r\n            });\r\n    },\r\n    followUsers(userId: number) {\r\n        return instance.post<ResponseUnfollowFollowType>(`follow/${userId}`)//когда хотим отписаться нужен delete\r\n            .then((response: any) => {\r\n                return response.data\r\n            });\r\n    },\r\n    getProfile(userId: number) {\r\n        return instance.get<ProfileType>(`profile/${userId}/`)\r\n    }\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: any) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status: any) {\r\n        return instance.put('profile/status/', {status: status})\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put('profile', profile)\r\n    },\r\n\r\n    savePhoto(photoFile: any) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile)\r\n\r\n        return instance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    }\r\n\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get('security/get-captcha-url')\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<ResponseMeType>('auth/me').then(res => res.data)\r\n    },\r\n\r\n    authUsers() {\r\n        return instance.get(\"auth/me\")\r\n            .then((response: any) => {\r\n                return response.data\r\n            });\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false, captcha: any = null) {\r\n        return instance.post<ResponseLoginType>(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logOut() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n\r\n}\r\n\r\n// export type AuthMeType = {\r\n//     email: string\r\n//     login: string\r\n//     id: number\r\n// }\r\n//\r\n// type ResponseType<T> = {\r\n//     data: T\r\n//     fieldsError?: string[]\r\n//     messages: string[]\r\n//     resultCode: ResultCodesEnum\r\n// }\r\ntype ResponseGetUsersType = {\r\n    items: Array<UsersType>\r\n    totalCount:any\r\n    error:string\r\n}\r\ntype ResponseUnfollowFollowType = {\r\n    resultCode: ResultCodesEnum\r\n    messages: Array<string>\r\n    data:{}\r\n}\r\n\r\ntype ResponseLoginType = {\r\n    fieldsError?: string[]\r\n    messages: Array<string>\r\n    resultCode: ResultCodesEnum\r\n    data: {\r\n        userId: number\r\n    }\r\n}\r\ntype ResponseMeType = {\r\n    data: {\r\n        email: string\r\n        login: string\r\n        id: number\r\n    }\r\n    fieldsError?: string[]\r\n    resultCode: ResultCodesEnum\r\n    messages: Array<string>\r\n}\r\n\r\n\r\n// type ResponseGetUsersType = {\r\n//     data: T\r\n//     fieldsError: string[]\r\n//     messages: string[]\r\n//     resultCode: number\r\n// }\r\n\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\n\r\n// export const setLoginAPI = {\r\n//     authLogin(email:string,password:string){\r\n//        const promise = instance.post<any>(`auth/login/`,{email},{password})\r\n//       return promise\r\n//     },\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/iconmen.b3e90dfe.png\";","module.exports = __webpack_public_path__ + \"static/media/loader.5da69282.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__183XS\",\"item\":\"Navbar_item__2LPpK\",\"active\":\"Navbar_active__3ChxF\",\"myBestFriends\":\"Navbar_myBestFriends__3XJps\"};","import React from \"react\";\r\nimport classes from \"./Navbar.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport store from \"./../../redux/state\";\r\n\r\n\r\n// // ПОСТАВИЛ КЕЙЙЙПОСТАВИЛ КЕЙЙЙПОСТАВИЛ КЕЙЙЙПОСТАВИЛ КЕЙЙЙПОСТАВИЛ КЕЙЙЙПОСТАВИЛ КЕЙЙЙПОСТАВИЛ КЕЙЙЙПОСТАВИЛ КЕЙЙЙПОСТАВИЛ КЕЙЙЙПОСТАВИЛ КЕЙЙЙ\r\n// ПОСТАВИЛ КЕЙЙЙПОСТАВИЛ КЕЙЙЙПОСТАВИЛ КЕЙЙЙПОСТАВИЛ КЕЙЙЙ\r\nconst Navbar = () => {\r\n\r\n  return (\r\n    <nav className={classes.nav}>\r\n      <div className={classes.item}>\r\n          <NavLink to=\"/profile\" activeClassName={classes.active}>Profile</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to =\"/dialogs\" activeClassName={classes.active}>Messages</NavLink>\r\n      </div>\r\n        <div className={classes.item}>\r\n            <NavLink to =\"/users\" activeClassName={classes.active}>Users</NavLink>\r\n        </div>\r\n      <div className={classes.item}>\r\n          <NavLink to =\"/news\" activeClassName={classes.active}>News</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n          <NavLink to =\"/music\" activeClassName={classes.active}>Music</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n          <NavLink to =\"settings\" activeClassName={classes.active}>Settings</NavLink>\r\n      </div>\r\n\r\n\r\n\r\n\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\n\r\n\r\n\r\nconst News= () => {\r\n         return(\r\n        <p>CHECK News</p>\r\n    )\r\n}\r\n\r\nexport default News","import React from \"react\";\r\n\r\n\r\n\r\nconst Music= () => {\r\n         return(\r\n        <p>CHECK Music</p>\r\n    )\r\n}\r\n\r\nexport default Music","import React from \"react\";\r\n\r\n\r\n\r\nconst Settings= () => {\r\n         return <p>Check settings</p>\r\n}\r\n\r\nexport default Settings\r\n\r\n","export let updateObjectInArray =(items:any,itemId:any, objPropsName:string,newObjProps:any )=>{\r\n    return items.map((u:any) => {\r\n        if (u[objPropsName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}","import {ResultCodesEnum, userAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\nimport {PhotosType} from \"./profile-reducer\";\r\nimport {AppRootStateType} from \"./redux-store\";\r\nimport {Dispatch} from \"react\";\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [2, 3]\r\n}\r\n\r\n\r\nfunction usersReducer(state: UsersTypeAll = initialState, action: UserActionTypes): UsersTypeAll {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users}//взять старый стей и пользовтелей которые там были и перезатеретт весь массив\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_COUNT: {\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        }\r\n        case IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n///////////*********ACTIONS**********//////////\r\n\r\nexport const follow = (userId: number | null): FollowActionCreatorType => ({type: FOLLOW, userId})\r\n\r\nexport const unFollow = (userId: number | null): UnFollowActionCreatorType => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users: Array<UsersType>): setUsetACType => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage: number): setCurrentPageACType => ({\r\n    type: SET_CURRENT_PAGE, currentPage: currentPage\r\n})\r\nexport const setTotalUsersCount = (totalCount: number): setTotalCountACType => ({\r\n    type: SET_TOTAL_COUNT, totalCount: totalCount\r\n})\r\nexport const toggleIsFetching = (isFetching: boolean): isFetchingACType => ({\r\n    type: IS_FETCHING, isFetching: isFetching\r\n})\r\nexport const isFollowingInProgress = (isFetching: boolean, userId: number): isFollowingInProgressType => ({\r\n    type: IS_FOLLOWING_PROGRESS, isFetching: isFetching, userId: userId\r\n})\r\n\r\n///////////*********THUNK**********//////////\r\n\r\nexport const getUsersTC = (page: number, pageSize: number) => {\r\n    return async (dispatch: Dispatch<UserActionTypes>, getState: () => AppRootStateType) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n        let data = await userAPI.getUsers(page, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.data.items))\r\n        dispatch(setTotalUsersCount(data.data.totalCount))\r\n\r\n    }\r\n}\r\n\r\nexport const unFollowThunkCreator = (userID: number) => {\r\n    return async (dispatch: Dispatch<UserActionTypes>) => {\r\n        dispatch(isFollowingInProgress(true, userID))\r\n        let data = await userAPI.unFollowUsers(userID)\r\n        if (data.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(unFollow(userID))\r\n        }\r\n        dispatch(isFollowingInProgress(false, userID))\r\n\r\n    }\r\n}\r\nexport const followThunkCreator = (userID: number) => {\r\n    return async (dispatch: Dispatch<UserActionTypes>) => {\r\n        dispatch(isFollowingInProgress(true, userID))\r\n        let data = await userAPI.followUsers(userID)\r\n        if (data.resultCode === 0) {\r\n            dispatch(follow(userID))\r\n        }\r\n        dispatch(isFollowingInProgress(false, userID))\r\n\r\n    }\r\n}\r\n\r\n///////////*********TYPES**********//////////\r\n\r\ntype LocationType = {\r\n    city: string\r\n    country: string\r\n}\r\nexport type UsersType = {\r\n    id: number\r\n    name: string\r\n    status: string\r\n    photos: PhotosType\r\n    followed: boolean\r\n    location: LocationType\r\n}\r\nexport type UsersTypeAll = {\r\n    users: Array<UsersType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n}\r\n\r\n\r\nexport type UserActionTypes =\r\n    FollowActionCreatorType\r\n    | UnFollowActionCreatorType\r\n    | setUsetACType\r\n    | setCurrentPageACType\r\n    | setTotalCountACType\r\n    | isFetchingACType\r\n    | isFollowingInProgressType\r\n\r\n\r\ntype isFollowingInProgressType = {\r\n    type: typeof IS_FOLLOWING_PROGRESS\r\n    isFetching: boolean\r\n    userId: number\r\n}\r\ntype isFetchingACType = {\r\n    type: typeof IS_FETCHING\r\n    isFetching: boolean\r\n}\r\n\r\ntype setTotalCountACType = {\r\n    type: typeof SET_TOTAL_COUNT\r\n    totalCount: number\r\n}\r\n\r\ntype setCurrentPageACType = {\r\n    type: typeof SET_CURRENT_PAGE\r\n    currentPage: any\r\n}\r\ntype FollowActionCreatorType = {\r\n    type: typeof FOLLOW\r\n    userId: any\r\n}\r\ntype UnFollowActionCreatorType = {\r\n    type: typeof UNFOLLOW\r\n    userId: any\r\n\r\n}\r\ntype setUsetACType = {\r\n    type: typeof SET_USERS\r\n    users: Array<UsersType>\r\n\r\n}\r\nconst UNFOLLOW = \"UNFOLLOW\"\r\nconst FOLLOW = \"FOLLOW_UP\"\r\nconst SET_USERS = \"SET_USERS\"\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_COUNT = \"SET_TOTAL_COUNT\"\r\nconst IS_FETCHING = \"IS_FETCHING\"\r\nconst IS_FOLLOWING_PROGRESS = \"IS_FOLLOWING_PROGRESS\"\r\n\r\n\r\nexport default usersReducer","    import React, {useState} from \"react\";\r\nimport styles from \"./Paginator.module.css\"\r\n\r\n\r\ntype paginatorType = {\r\n    pageSize: number\r\n    currentPage: number\r\n    totalItemsCount: number\r\n    onPageChanged: (p: number) => void\r\n    portionSize?: number\r\n    // setCurrentPage:Function\r\n}\r\n\r\n\r\nexport const Paginator = ({pageSize, currentPage, totalItemsCount, onPageChanged, portionSize = 10}: paginatorType) => {\r\n\r\n    let pageCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = []\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    //ниже получили сколбко всего будет страниц, так как задали размер одной страницы 10 users\r\n    let portionCount = Math.ceil(pageCount / portionSize)\r\n\r\n    let [portionNumber, setPortionNumber] = useState<number>(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n    console.log(portionCount)\r\n    // console.log(portionNumber)\r\n    return (\r\n        <div>{portionNumber > 1 && <button className={styles.myButton} onClick={() => setPortionNumber(portionNumber - 1)}>prev</button>}\r\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <span\r\n                        className={currentPage === p ? styles.selectPage : styles.pages }\r\n                        onClick={(e) => {\r\n                            onPageChanged(p)\r\n                        }}\r\n                        key={p}>\r\n                    {p}</span>\r\n                })\r\n            }\r\n            {portionCount > portionNumber && <button className={styles.myButton} onClick={() => setPortionNumber(portionNumber + 1)}>Next</button>}\r\n\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/iconmen.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {UsersType} from \"../../redux/user-reducer\";\r\n\r\n\r\ntype usersTypeComponent = {\r\n    users: UsersType\r\n    followingInProgress: Array<number>\r\n    unFollowThunkCreator: (userID: number) => void\r\n    followThunkCreator: (userID: number) => void\r\n}\r\n\r\n\r\nexport const User = (props: usersTypeComponent) => {\r\nlet u = props.users\r\n\r\n    return (\r\n        <div className={styles.block}>\r\n            <span>\r\n                <div className={styles.container}>\r\n                    <NavLink to={'/profile/' + u.id}>\r\n                    <img src={u.photos.small != null ? u.photos.small : userPhoto} className={styles.userPhoto}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div className={styles.additionalContainer}>\r\n                    {u.followed ?\r\n                        <button className={styles.myButton} disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                            props.unFollowThunkCreator(u.id)\r\n                        }}>Unfollow</button>\r\n                        :\r\n                        <button className={styles.myButton} disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                            props.followThunkCreator(u.id)\r\n                        }}>Follow</button>\r\n                    }\r\n\r\n                </div>\r\n            </span>\r\n            <div className={styles.info}>\r\n                  <span>\r\n                <span>\r\n                    <div><b>Nickname</b>: {u.name}</div>\r\n                    <br></br>\r\n                    <div><b>Location</b>:{u.status}</div>\r\n                </span>\r\n                <span>\r\n                         <div>{'u.location.country'}</div>\r\n                    <div>{'u.location.city'}</div>\r\n\r\n                </span>\r\n            </span>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n\r\n\r\n}","import React from \"react\";\r\nimport {Paginator} from \"../common/Paginator/Paginator\";\r\nimport {User} from \"./User\";\r\nimport {UsersType} from \"../../redux/user-reducer\";\r\n\r\n\r\n\r\ntype usersTypeForComponent = {\r\n    pageSize: number\r\n    currentPage: number\r\n    users: Array<UsersType>\r\n    totalUsersCount: number\r\n    onPageChanged: (p: number) => void\r\n    unFollow: (userId: any) => void\r\n    follow: (userId: any) => void\r\n    name: string\r\n    status: any\r\n    followingInProgress: Array<number>\r\n    unFollowThunkCreator:(userID:number)=>void\r\n    followThunkCreator:(userID:number)=>void\r\n}\r\n\r\n\r\n\r\nfunction solve(s: any) {\r\n    let upper = s.split('').filter((x: any) => x === x.toUpperCase()).length\r\n    let lower = s.split('').filter((x: any) => x === x.toLowerCase()).length\r\n    console.log(upper)\r\n    console.log(lower)\r\n    return lower > upper || lower == upper ? s.toLowerCase() : s.toUpperCase()\r\n\r\n}\r\n\r\n\r\n\r\nexport const Users = (props: usersTypeForComponent) => {\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n\r\n            {\r\n                props.users.map((u: any) => <User users={u}\r\n                                                  followingInProgress={props.followingInProgress}\r\n                                                  followThunkCreator={props.followThunkCreator}\r\n                                                  unFollowThunkCreator={props.unFollowThunkCreator}\r\n                                                  key={u.id}/>\r\n\r\n\r\n                )}\r\n            <Paginator pageSize={props.pageSize}\r\n                       currentPage={props.currentPage}\r\n                       onPageChanged={props.onPageChanged}\r\n                       totalItemsCount={props.totalUsersCount}\r\n            />\r\n        </div>)\r\n\r\n}","import {AppRootStateType} from \"./redux-store\";\r\n\r\nexport const getUsersSelector = (state: AppRootStateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state: AppRootStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppRootStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: AppRootStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: AppRootStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state: AppRootStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\nexport const getIsAuth = (state: AppRootStateType) => {\r\n    return state.auth.isAuth\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, followThunkCreator, getUsersTC, setCurrentPage,\r\n    unFollow, unFollowThunkCreator, UsersType\r\n} from \"../../redux/user-reducer\";\r\nimport {Users} from \"./UserFunc\";\r\nimport ToggleIsFetching from \"../common/ToggleIsFetching\";\r\n\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage, getFollowingInProgress, getIsAuth,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersSelector\r\n} from \"../../redux/users-selectors\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\n\r\n\r\ntype MapStatePropsType = {\r\n    currentPage: number\r\n    pageSize: number\r\n    isFetching: boolean\r\n    users: Array<UsersType>\r\n    totalUsersCount: number\r\n    followingInProgress: Array<number>\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    getUsersTC: (currentPage: number, pageSize: number) => void\r\n    follow: (userId: any) => void\r\n    unFollow: (userId: any) => void\r\n    followThunkCreator: (userID: number) => void\r\n    unFollowThunkCreator: (userID: number) => void\r\n}\r\n\r\ntype OwnPropsType = {\r\n    pageTitle: string\r\n    name: string\r\n    status: any\r\n}\r\n\r\ntype PropsType = OwnPropsType & MapDispatchToPropsType & MapStatePropsType\r\n\r\n\r\nexport class UsersContainer extends React.Component<PropsType, any> {\r\n    componentDidMount() {\r\n        this.props.getUsersTC(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: any) => {\r\n        this.props.getUsersTC(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            <h2>{this.props.pageTitle}</h2>\r\n            {this.props.isFetching ? <ToggleIsFetching/> : null}\r\n            <Users pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   name={this.props.name}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   onPageChanged={this.onPageChanged}\r\n                   status={this.props.status}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   unFollow={this.props.unFollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n                   followThunkCreator={this.props.followThunkCreator}\r\n                   unFollowThunkCreator={this.props.unFollowThunkCreator}\r\n\r\n\r\n            />\r\n        </>\r\n\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state: AppRootStateType) => {//в нашем первом объекте мы берем данные из STATE, смысл этой функции замапить стейт на пропсы и превратить чать стейта в пропсы\r\n    return {\r\n        users: getUsersSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: getIsAuth(state)\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType<any>>(\r\n    connect<MapStatePropsType, MapDispatchToPropsType, OwnPropsType, AppRootStateType>(\r\n        mapStateToProps, {\r\n        follow,\r\n        unFollow,\r\n        // setCurrentPage,\r\n        followThunkCreator,\r\n        unFollowThunkCreator,\r\n        getUsersTC\r\n    }),\r\n    // withAut hRedirect\r\n)(UsersContainer)","import React from \"react\";\r\nimport classes from \"./Header.module.css\";\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\r\nimport {faShip} from '@fortawesome/free-solid-svg-icons'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n// let test1 = \"header\";\r\n// let test2 = \"active\";\r\n// let classNew = `${classes.header} ${classes.active}`;это двойной класс его можно использовать\r\n\r\nconst Header = (props: any) => {\r\n\r\n    return (\r\n        <header className={classes.header}>\r\n            <FontAwesomeIcon icon={faShip} className={classes.icon}/>\r\n            {/*<img src = \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQ2sOdNTUYrgWYsUwe8LF1FJ4-XXbBp9lLlfzKppSe2oOFumoLz&usqp=CAU\"></img>*/}\r\n            {/*<img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRbcaKdblglmQe9isNHnTB-6YwznE-rKTELEcyGQom6pck_eHpV&usqp=CAU\"></img>*/}\r\n            <div className={classes.loginBlock}>\r\n                {props.isAuth ? <div>{props.login} - <button onClick={props.loginOutTC}>LogOut</button> </div> : <NavLink to={\"/login\"}>Login</NavLink>}\r\n\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import {Dispatch} from \"redux\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    error:null\r\n}\r\n\r\nfunction appReducer(state: InitialStateType = initialState, action: ActionsTypes): InitialStateType {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESED:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        case SET_APP_ERROR:\r\n            return {...state,error:action.error}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n///////////*********ACTIONS**********//////////\r\nexport const setInitialisedSuccess = (): SetInitialisedType => ({type: INITIALIZED_SUCCESED})\r\nexport const setAppErrorAC = (error: string | null): SetAppErrorACType => ({type: SET_APP_ERROR, error})\r\n\r\n\r\n///////////*********THUNK**********//////////\r\nexport const initializeAppTC = () => (dispatch: Dispatch<any>) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(setInitialisedSuccess());\r\n        });\r\n}\r\n\r\n///////////*********TYPES**********//////////\r\n\r\nexport type ResponseType<D = {}> = {//если D не передавать то он будет путым объектом\r\n    resultCode: number\r\n    messages: Array<string>\r\n    data: D\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\ntype ActionsTypes = SetAppErrorACType | SetInitialisedType\r\n\r\nconst INITIALIZED_SUCCESED = \"INITIALIZED_SUCCESED\"\r\nconst SET_APP_ERROR = \"SET_APP_ERROR\"\r\n\r\n\r\nexport type InitialStateType = {\r\n    initialized: boolean\r\n    error:string | null\r\n}\r\n\r\ntype SetAppErrorACType = {\r\n    type: typeof SET_APP_ERROR\r\n    error: string | null\r\n}\r\ntype SetInitialisedType = {\r\n    type: typeof INITIALIZED_SUCCESED\r\n}\r\n\r\n\r\nexport default appReducer","import {authAPI, ResultCodesEnum, securityAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {setAppErrorAC} from \"./app-reducer\";\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl:null\r\n}\r\n\r\n\r\nfunction authReducer(state: authType = initialState, action: UserActionTypes): authType {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n\r\n            }\r\n        case GET_CAPTCHAURL_SUCCESS:\r\n            return {\r\n                // ...state,captchaUrl:action.payload\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n\r\n}\r\n///////////*********ACTIONS**********//////////\r\nexport const setUserData = (userId: any, email: any, login: any, isAuth: any): setUserDataType => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n})\r\nexport const getCaptchaUrlAC = (captchaUrl:any): getCaptchaURLACType => ({\r\n    type: GET_CAPTCHAURL_SUCCESS,\r\n    payload: {captchaUrl}\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch: Dispatch<UserActionTypes>) => {\r\n    let response = await authAPI.me();\r\n    if (response.resultCode === ResultCodesEnum.Success) {\r\n        let {id, email, login} = response.data\r\n        dispatch(setUserData(id, email, login, true))\r\n    }\r\n\r\n}\r\n///////////*********THUNK**********//////////\r\nexport const loginTC = (email: string, password: string, rememberMe: boolean,captcha:any) => async (dispatch: Dispatch<any>) => {\r\n    // dispatch(stopSubmit('login',{_error:'asdas'}));\r\n    let res = await authAPI.login(email, password, rememberMe,captcha)\r\n    if (res.data.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(getAuthUserData())\r\n        // let message = res.data.messages\r\n        //     // [0]\r\n        // dispatch(setAppErrorAC(message))\r\n    } else {\r\n        if (res.data.resultCode === ResultCodesEnum.CaptchaIsRequired){\r\n            dispatch(getCaptchaUrlTC())\r\n        }\r\n        let message = res.data.messages.length > 0 ? res.data.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n        dispatch(setAppErrorAC(message))\r\n\r\n    }\r\n\r\n\r\n}\r\nexport const loginOutTC = () => async (dispatch: Dispatch<any>) => {\r\n    let res = await authAPI.logOut()\r\n            if (res.data.resultCode === 0) {\r\n                dispatch(setUserData(null, null, null, false))\r\n            }\r\n}\r\n\r\nexport const getCaptchaUrlTC = () => async (dispatch: Dispatch<any>) => {\r\n    let res = await securityAPI.getCaptchaUrl()\r\n    const captchaURL =  res.data.url\r\n                dispatch(getCaptchaUrlAC(captchaURL))\r\n            }\r\n\r\n///////////*********TYPES**********//////////\r\nconst SET_USER_DATA = \"social-network/auth/SET_USER_DATA\"\r\nconst GET_CAPTCHAURL_SUCCESS = \"social-network/auth/GET_CAPTCHAURL_SUCCESS\"\r\n\r\n\r\nexport type authType = {\r\n    userId: any\r\n    email: any\r\n    login: any\r\n    isAuth: boolean\r\n    captchaUrl:any\r\n}\r\nexport type dataType = {\r\n    userId: string\r\n    email: string\r\n    login: string\r\n    isAuth: boolean\r\n    captcha?:any\r\n}\r\n\r\n\r\ntype getAuthUserDataType = { getAuthUserData: () => void }\r\n\r\n\r\nexport type UserActionTypes = setUserDataType|getCaptchaURLACType\r\n\r\n\r\ntype getCaptchaURLACType = {\r\n    type: typeof GET_CAPTCHAURL_SUCCESS\r\n    payload: any\r\n    // userId:any,\r\n    // email:any,\r\n    // login:any,\r\n    // isAuth:any\r\n}\r\ntype setUserDataType = {\r\n    type: typeof SET_USER_DATA\r\n    payload: dataType\r\n    // userId:any,\r\n    // email:any,\r\n    // login:any,\r\n    // isAuth:any\r\n}\r\n\r\n\r\nexport default authReducer","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {getAuthUserData, loginOutTC} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\ntype PropsType = {\r\n    setUserData: (data: any) => void\r\n    getAuthUserData:any\r\n}\r\n\r\nclass HeaderContainer extends React.Component<any, any> {\r\n    componentDidMount() {\r\n        this.props.getAuthUserData()\r\n        // userAPI.authUsers().then((data: any) => {\r\n        //     if (data.resultCode === 0) {\r\n        //         let {id, email, login} = data.data\r\n        //         this.props.setUserData({id, email, login})\r\n        //     }\r\n        // });\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Header {...this.props}/>\r\n        );\r\n    }\r\n};\r\nconst mapStateToProps = (state: any) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {getAuthUserData,loginOutTC})(HeaderContainer);\r\n","import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {loginTC} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\n\r\n\r\n\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType, LoginFormOwnProps> & LoginFormOwnProps> = (props: LoginFormDataType) => {\r\n\r\n    console.log(props.captchaUrl)\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'Email'} name={'email'} component={Input} validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={'Password'} name={'password'} type={'password'} validate={[required]}\r\n                       component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name={'rememberMe'} type={'checkbox'}/> remember me\r\n            </div>\r\n            {props.captchaUrl && <img src={props.captchaUrl}/>}\r\n            {props.captchaUrl && <div>\r\n                <Field placeholder={'symbols from image'} name={'captcha'} validate={[required]}\r\n                       component={Input}/> remember me\r\n            </div>}\r\n\r\n\r\n            {/*{props.error && <div className={style.formSummaryError}>*/}\r\n            {/*    {props.error}*/}\r\n            {/*</div>}*/}\r\n\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType,LoginFormOwnProps>({form: 'login'})(LoginForm)\r\n\r\n\r\nexport const Login = () => {\r\n    const isAuth = useSelector<AppRootStateType, any>((state) => state.auth.isAuth)\r\n    const captchaUrl = useSelector<AppRootStateType, any>(state => state.auth.captchaUrl)\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n\r\n        dispatch(loginTC(formData.email, formData.password, formData.rememberMe, formData.captcha))\r\n    }\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (<div>\r\n            <h1>LOGIN</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl}/>\r\n        </div>\r\n\r\n    )\r\n}\r\ntype LoginFormDataType = {\r\n    email?: string\r\n    password?: string\r\n    rememberMe?: boolean\r\n    // captcha?:any\r\n    handleSubmit?: () => void\r\n    captchaUrl?: string | null\r\n}\r\ntype LoginFormOwnProps = {\r\n    captchaUrl: string | null\r\n}\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string | null\r\n}\r\n\r\n\r\n\r\n","import React from \"react\";\r\n\r\n\r\n\r\nlet initialState: initialStateType = {\r\n    login: \"\",\r\n    password: 1\r\n}\r\n\r\nexport function loginReducer(state: initialStateType = initialState, action: setLoginACType): initialStateType {\r\n    switch (action.type) {\r\n\r\n        case SET_LOGIN: {\r\n            return {\r\n                ...state, login: action.login,\r\n                password: action.password\r\n            }\r\n        }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n\r\n}\r\n///////////*********ACTIONS**********//////////\r\nexport const setLoginAC = (login: string, password: string): setLoginACType => ({\r\n    type: SET_LOGIN, login, password\r\n})\r\n\r\n///////////*********TYPES**********//////////\r\nconst SET_LOGIN = \"SET_LOGIN\"\r\n\r\ntype initialStateType = {\r\n    login: string\r\n    password: any\r\n}\r\ntype setLoginACType = {\r\n    type: typeof SET_LOGIN\r\n    login: string\r\n    password: any\r\n}\r\n\r\n// export const setLoginToAuth=(login:string,password:string)=>(dispatch:any)=>{\r\n//     setLoginAPI.authLogin(login,password)\r\n//         .then((response:any)=>{\r\n//             // if (response.data.resultCode === 0){\r\n//                 dispatch(setLoginAC(response.login,response.password))\r\n//             // }\r\n//\r\n//         })\r\n// }\r\n","import {applyMiddleware, combineReducers, createStore,compose} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./user-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\n// import thunkMiddleware from \"react-redux-typescript\"\r\n// import thunkMiddleware from \"react-redux\"\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {loginReducer} from \"./login-reducer\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage:usersReducer,\r\n    auth:authReducer,\r\n    form:formReducer,\r\n    loginPage:loginReducer,\r\n    app:appReducer\r\n})\r\n\r\n// import { createStore, applyMiddleware, compose } from 'redux';\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store= createStore(reducers, /* preloadedState, */ composeEnhancers(applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n// let store = createStore(reducers,applyMiddleware(thunkMiddleware))\r\nexport type AppRootStateType = ReturnType<typeof reducers>\r\n// @ts-ignore\r\nwindow.store = store;\r\n\r\nexport default store","import React from 'react';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\nimport {setAppErrorAC} from \"../../redux/app-reducer\";\r\n// import {AppRootStateType} from \"../../app/store\";\r\n// import {setAppErrorAC} from \"../../app/app-reducer\";\r\n\r\n\r\nfunction Alert(props: any) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\n\r\nexport function ErrorSnackbar() {\r\n\r\n\r\n    const error = useSelector<AppRootStateType, string | null>(state => state.app.error)\r\n   const dispatch = useDispatch()\r\n\r\n    const handleClick = () => {\r\n        //setOpen(true);\r\n    };\r\n\r\n    const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        dispatch(setAppErrorAC(null))\r\n\r\n    };\r\n\r\n    const isOpen = error !== null\r\n\r\n    return (\r\n        <Snackbar open={isOpen} autoHideDuration={3000} onClose={handleClose}>\r\n            <Alert onClose={handleClose}>{error}</Alert>\r\n        </Snackbar>\r\n\r\n\r\n    );\r\n}","import React from \"react\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\n// import {postsType} from \"./../components/Profile/MyPosts/MyPosts\";\r\n// import {\r\n//     dialogsDataType,\r\n//     dialogsMessagesDataType,\r\n// } from \"./../components/Dialogs/Dialogs\";\r\n\r\n\r\n// const UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\"\r\n// const ADD_POST = \"ADD-POST\"\r\n// const UPDATE_NEW_MESSAGE_TEXT =\"UPDATE-NEW-MESSAGE-TEXT\"\r\n// const ADD_MESSAGE =\"ADD-MESSAGE\"\r\n// export type stateTypeFirst = {\r\n//     _state: stateType\r\n//     getState: () => stateType\r\n//     rerenderEntireTree: (state: any) => void\r\n//     subsCribe: (observer: any) => void\r\n//     dispatch: (action: any) => void///КАКОЙ ТИп\r\n// }\r\n// export type postsTypeState = {\r\n//     posts: Array<postsType>\r\n//\r\n//     profile:any\r\n//     status:string\r\n// }\r\n//\r\n// export type dialogsTypeState = {\r\n//     dialogs: Array<dialogsDataType>\r\n//     messages: Array<dialogsMessagesDataType>\r\n//     newMessageText:string\r\n// }\r\n// export type stateType = {\r\n//     profilePage: postsTypeState\r\n//     dialogsPage: dialogsTypeState\r\n//     auth:any\r\n// }\r\n\r\n// let store: stateTypeFirst = {\r\nlet store: any = {\r\n    _state: {\r\n        profilePage: {\r\n            posts: [\r\n                {id: 1, message: \"Hi, how are you?\", countLikes: 10},\r\n                {id: 2, message: \"Hi, how are you?\", countLikes: 133},\r\n                {id: 3, message: \"Hi, how are you?\", countLikes: 4432},\r\n            ],\r\n            newPostText: 'it-kamasutra',\r\n            profile:null\r\n        },\r\n        dialogsPage: {\r\n            dialogs: [\r\n                {id: 1, name: \"Artemy\"},\r\n                {id: 2, name: \"Alevtina\"},\r\n                {id: 3, name: \"Akseniya\"},\r\n                {id: 4, name: \"Afonasii\"},\r\n                {id: 5, name: \"Belanton\"},\r\n                {id: 6, name: \"Stephan\"},\r\n                {id: 7, name: \"Stephan\"},\r\n                {id: 8, name: \"Stephan\"},\r\n                {id: 9, name: \"Stephan\"},\r\n            ],\r\n            messages: [\r\n                {id: 1, message: \"Halllooo?\"},\r\n                // { id: 2, message: \"Hey how are you?\" },\r\n                // { id: 3, message: \"Hey how are you?\" },\r\n\r\n            ],\r\n            newMessageText: \"\"\r\n        }\r\n    },\r\n    getState() {\r\n        return this._state;\r\n    },\r\n    subsCribe(observer: any) {\r\n        this.rerenderEntireTree = observer\r\n    },\r\n    rerenderEntireTree(state: any) {\r\n        console.log('state changed')\r\n    },\r\n    dispatch(action:any) {\r\n        this._state.profilePage = profileReducer(this._state.profilePage, action)\r\n        this._state.dialogsPage = dialogsReducer(this._state.dialogsPage, action)\r\n        this.rerenderEntireTree(this._state)\r\n    }\r\n}\r\n\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport classes from \"./bestFriends.module.css\";\r\nimport store from \"./../../redux/state\";\r\n\r\n\r\nconst BestFriends = () => {\r\n    const bestFriends = store._state.dialogsPage.dialogs.map((friend: any) => {\r\n        return <div  className={classes.container} key={friend.id}>\r\n            <br></br>\r\n            <img className={classes.photoFriend}\r\n                src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcS4bkPT14o4_n_lnU-3DNyZol1LE0vParolHN-kXQTD8exgO4-8&usqp=CAU\"></img>\r\n            {friend.name}\r\n\r\n        </div>;\r\n    })\r\n    return (\r\n        <div className={classes.myBestFriends}>\r\n\r\n            <span className={classes.profileFriend}>           {bestFriends}</span>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default BestFriends;\r\n","import React from \"react\";\r\nimport styles from \"./App.module.css\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {Login} from \"./components/login/Login\";\r\nimport {compose} from \"redux\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {setAppErrorAC, initializeAppTC} from \"./redux/app-reducer\";\r\nimport ToggleIsFetching from \"./components/common/ToggleIsFetching\";\r\nimport store from \"./redux/redux-store\";\r\nimport {withSuspence} from \"./hoc/withSuspence\";\r\nimport {ErrorSnackbar} from \"./components/common/ErrorSnackbar\";\r\nimport BestFriends from \"./components/BestFrieds/BestFriends\";\r\n\r\n\r\n\r\n// Этот компонент загружается динамически\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\n\r\n\r\nclass App extends React.Component<any, any> {\r\n//необходимо задиспачить тут ошибку которую нужно создать в app reducer 47 минута\r\n    catchAllUnhandledErrors = (reason: any, promise: any) => {\r\n        this.props.setAppErrorAC(\"error\")\r\n        console.log(this.props.error)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.initializeAppTC()\r\n        // @ts-ignore\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        // @ts-ignore\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    render() {\r\n        // if (!this.props.initialized) {\r\n        //     return <ToggleIsFetching/>\r\n        // }\r\n        return (\r\n            <div className={styles.appWrapper}>\r\n                {this.props.error !== \" \" && <ErrorSnackbar/>}\r\n\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className={styles.appWrapperContent}>\r\n                    <Route\r\n                        exact\r\n                        path=\"/dialogs\"\r\n                        //вариант загрузки DialogsComponent с HOC withSuspence\r\n                        render={withSuspence(DialogsContainer)}\r\n                    />\r\n\r\n                    <Route\r\n                        path='/profile/:userId?'\r\n                        render={() =>\r\n                            //вариант загрузки DialogsComponent без HOC withSuspence\r\n                            <React.Suspense fallback={<ToggleIsFetching/>}>\r\n                                <div>\r\n                                    <ProfileContainer/>\r\n                                </div>\r\n                            </React.Suspense>\r\n                        }\r\n                    />\r\n                    <Route path=\"/users\" render={() => <UsersContainer pageTitle={'Logists'}/>}/>\r\n                    <Route path=\"/login\" render={() => <Login/>}/>\r\n\r\n                    <Route path=\"/news\" component={News}/>\r\n                    <Route path=\"/music\" component={Music}/>\r\n                    <Route path=\"/settings\" component={Settings}/>\r\n\r\n\r\n                </div>\r\n                {/*<Navbar/>*/}\r\n                <div className={styles.asside} >\r\n<BestFriends/>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n    initialized: state.app.initialized,\r\n    error:state.app.error\r\n})\r\n\r\nexport let AppContainer = compose<React.ComponentType>(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeAppTC,setAppErrorAC}))(App);\r\n\r\nexport const SocialTSApp = (props: any) => {\r\n    return (<HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>)\r\n}\r\n\r\n","import React from \"react\";\r\nimport ToggleIsFetching from \"../components/common/ToggleIsFetching\";\r\n\r\n\r\nexport const withSuspence = (Component: any) => {\r\n\r\n    return (props: any) => {\r\n\r\n    return <React.Suspense fallback={<ToggleIsFetching/>}>\r\n        <div>\r\n            <Component {...props}/>\r\n        </div>\r\n    </React.Suspense>\r\n}\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {SocialTSApp} from \"./App\";\r\n\r\n// import store from \"./redux/redux-store\"\r\n// import {BrowserRouter} from \"react-router-dom\";\r\n// import {Provider} from \"react-redux\";\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <SocialTSApp/>, document.getElementById(\"root\"));\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"users_block__3L5ug\",\"container\":\"users_container__27-GU\",\"userPhoto\":\"users_userPhoto__fo4f3\",\"additionalContainer\":\"users_additionalContainer__BZe4v\",\"info\":\"users_info__3t29r\",\"selectPage\":\"users_selectPage__3tqf3\",\"myButton\":\"users_myButton__18zGt\"};","import React from \"react\";\r\nimport preLoader from \"../assets/images/loader.svg\";\r\n\r\nfunction ToggleIsFetching() {\r\nreturn (<div>\r\n    <img src={preLoader}/>\r\n</div>)\r\n}\r\n\r\n\r\nexport default ToggleIsFetching","import React from \"react\";\r\nimport styles from './FormControls.module.css'\r\nimport {WrappedFieldProps} from \"redux-form\";\r\n\r\nexport const Textarea = ({input, meta, ...props}: any) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \" \")}>\r\n            <div>\r\n                <textarea{...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n// type InputType = {\r\n//     meta: {\r\n//         touched: boolean\r\n//         error: string \r\n//     }\r\n// }\r\n// type FormControlType=(params:InputType)=>void\r\n\r\n\r\nexport const Input:React.FC<WrappedFieldProps> = ({input, meta: {touched, error}, ...props}: any) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \" \")}>\r\n            <div>\r\n                <input{...input} {...props} />\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n\r\n\r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__39tW4\",\"error\":\"FormControls_error__PVT-W\",\"formSummaryError\":\"FormControls_formSummaryError__1yGDf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectPage\":\"Paginator_selectPage__2qcse\",\"pages\":\"Paginator_pages__1nTkM\",\"myButton\":\"Paginator_myButton__2nvIy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBestFriends\":\"bestFriends_myBestFriends__JSenE\",\"photoFriend\":\"bestFriends_photoFriend__3GGss\",\"profileFriend\":\"bestFriends_profileFriend__3oNZx\"};","export const required = (value:any) =>{\r\nif (value)return undefined;\r\nreturn 'Field required'\r\n}\r\n\r\n\r\n\r\nexport const  maxLengthCreator = (maxLength:any)=>(value:string)=>{\r\n    if (value.length > maxLength)return `Max lenght is ${maxLength} symbols`\r\n    return undefined\r\n}\r\n\r\n","import {profileAPI, userAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {v1} from \"uuid\";\r\n\r\n\r\nlet initialState: postsTypeState = {\r\n    posts: [\r\n        {id: v1(), message: \"Hi, how are you?\", countLikes: 10},\r\n        {id: v1(), message: \"Hi, any news?\", countLikes: 133},\r\n        {id: v1(), message: \"How long have you been here?\", countLikes: 4432},\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n    newPostText: \"\"\r\n}\r\n\r\n\r\nfunction profileReducer(state: postsTypeState = initialState, action: ProfileActionTypes): postsTypeState {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n\r\n            let newPost: postsType = {\r\n                id: v1(),\r\n                message: action.newPostText,\r\n                countLikes: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS_PROFILE: {\r\n            return {...state, status: action.status}\r\n        }\r\n        case SET_STATUS_UPDATE: {\r\n            return {...state, status: action.status}\r\n        }\r\n        case DELETE_POST: {\r\n            debugger\r\n            // return state.posts.filter(tl => tl.id != action.postId)\r\n\r\n            return {...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)}\r\n        }\r\n        case SET_SAVE_PHOTO:\r\n            return {...state, profile: {...state.profile, photos: action.photo} as ProfileType}\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n\r\n}\r\n\r\n///////////*********ACTIONS**********//////////\r\n\r\nexport const addPostActionCreator = (newPostText: string): AddPostActionCreatorType => ({type: ADD_POST, newPostText})\r\n\r\n\r\nexport const setUserProfile = (profile: ProfileType | null): setUserProfileType => ({\r\n    type: SET_USER_PROFILE, profile: profile\r\n\r\n})\r\n\r\nexport const setStatusProfile = (status: string): setStatusProfileType => ({\r\n    type: SET_STATUS_PROFILE, status\r\n})\r\nexport const setStatusUpdate = (status: string): setStatusUpdateType => ({\r\n    type: SET_STATUS_UPDATE, status\r\n})\r\nexport const deletePostAC = (postId: number|string): deletePostType => ({\r\n    type: DELETE_POST, postId\r\n})\r\nexport const setSavePhotoAC = (photo: PhotosType): setSavePhotoType => ({\r\n    type: SET_SAVE_PHOTO, photo\r\n})\r\n\r\n\r\n/////////*********THUNKS*********/////////\r\n\r\n\r\nexport const getUserProfile = (userId: any) => async (dispatch: Dispatch) => {\r\n    let response = await userAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n\r\n}\r\n\r\nexport const getUserStatus = (userId: number) => async (dispatch: any) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatusProfile(response.data))\r\n\r\n}\r\nexport const getUpdateUserStatus = (status: string) => async (dispatch: any) => {\r\n    try {\r\n        let response = await profileAPI.updateStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatusUpdate(status))\r\n        }\r\n    } catch (error) {\r\n        debugger\r\n        alert(error)\r\n    }\r\n}\r\n\r\nexport const getSavePhotoTC = (file: any) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setSavePhotoAC(response.data.data.photos))\r\n    }\r\n}\r\nexport const getSaveInfoTC = (profile: any) => async (dispatch: any, getState: any) => {\r\n    const userIds: any = getState().auth.userId\r\n    const response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userIds))\r\n    } else {\r\n        dispatch(stopSubmit('profileDataForm', {_error: response.data.messages[0]}));//ёто нужно будет потом распарсить\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n}\r\n\r\n///////////*********TYPES**********//////////\r\nconst ADD_POST = \"ADD-POST\"\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\"\r\nconst SET_STATUS_PROFILE = \"SET_STATUS_PROFILE\"\r\nconst SET_STATUS_UPDATE = \"SET_STATUS_UPDATE\"\r\nconst DELETE_POST = \"DELETE_POST\"\r\nconst SET_SAVE_PHOTO = \"SET_SAVE_PHOTO\"\r\n\r\nexport type ProfileActionTypes =\r\n    AddPostActionCreatorType\r\n    | setUserProfileType\r\n    | setStatusProfileType\r\n    | setStatusUpdateType\r\n    | deletePostType\r\n    | setSavePhotoType\r\n\r\n\r\ntype setSavePhotoType = {\r\n    type: typeof SET_SAVE_PHOTO\r\n    photo: PhotosType\r\n\r\n}\r\ntype setStatusUpdateType = {\r\n    type: typeof SET_STATUS_UPDATE\r\n    status: string\r\n}\r\ntype deletePostType = {\r\n    type: typeof DELETE_POST\r\n    postId: number|string\r\n}\r\ntype setStatusProfileType = {\r\n    type: typeof SET_STATUS_PROFILE\r\n    status: string\r\n}\r\ntype setUserProfileType = {\r\n    type: typeof SET_USER_PROFILE\r\n    profile: ProfileType | null\r\n}\r\ntype AddPostActionCreatorType = {\r\n    type: typeof ADD_POST\r\n    newPostText: string\r\n}\r\nexport type postsTypeState = {\r\n    posts: Array<postsType>\r\n    profile: ProfileType | null\r\n    status: string\r\n    newPostText: any\r\n}\r\nexport type postsType = {\r\n    id: number|string;\r\n    message: string;\r\n    countLikes: number;\r\n};\r\ntype ContactsType = {\r\n    github: string\r\n    vk: string\r\n    facebook: string\r\n    instagram: string\r\n    twitter: string\r\n    website: string\r\n    youtube: string\r\n    mainLink: string\r\n}\r\nexport type PhotosType = {\r\n    small: string | null\r\n    large: string | null\r\n}\r\n\r\n\r\nexport type ProfileType = {\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: ContactsType\r\n    photos: PhotosType\r\n}\r\n\r\n\r\nexport default profileReducer","import {dialogsDataType, dialogsMessagesDataType} from \"../components/Dialogs/Dialogs\";\r\nimport {postsTypeState} from \"./profile-reducer\";\r\n\r\n// const UPDATE_NEW_MESSAGE_TEXT = \"UPDATE-NEW-MESSAGE-TEXT\"\r\nconst ADD_MESSAGE = \"ADD-MESSAGE\"\r\n\r\nlet initialState = {\r\n\r\n    dialogs: [\r\n        {id: 1, name: \"Artemy\"},\r\n        {id: 2, name: \"Alevtina\"},\r\n        {id: 3, name: \"Akseniya\"},\r\n        {id: 4, name: \"Afonasii\"},\r\n        {id: 5, name: \"Belanton\"},\r\n        {id: 6, name: \"Stephan\"},\r\n        {id: 7, name: \"Stephan\"},\r\n        {id: 8, name: \"Stephan\"},\r\n        {id: 9, name: \"Stephan\"},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Hello, how is it going?\"},\r\n        // { id: 2, message: \"Hey how are you?\" },\r\n        // { id: 3, message: \"Hey how are you?\" },\r\n\r\n    ],\r\n    newMessageText: \"\"\r\n\r\n}\r\n\r\n\r\nfunction dialogsReducer(state: dialogsTypeState = initialState, action: DialogsActionType): dialogsTypeState {\r\n    let stateCopy;\r\n\r\n\r\n\r\n    switch (action.type) {\r\n        // case UPDATE_NEW_MESSAGE_TEXT: {\r\n        //     stateCopy = {\r\n        //         ...state,\r\n        //         newMessageText: action.newMessageText1\r\n        //     };\r\n        //     return stateCopy\r\n        // }\r\n        case ADD_MESSAGE: {\r\n\r\n            let newMessage = action.newMessageText\r\n            let stateCopy = {\r\n                ...state,\r\n                newMessageText: \"\",\r\n                messages: [...state.messages, {id: 77, message: newMessage}]\r\n\r\n            };\r\n            // let newMessage = {\r\n            //     id: 77,\r\n            //     message: state.newMessageText\r\n            // }\r\n            return stateCopy\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport type DialogsActionType = AddMessageCreatorType\r\n    // UpdateNEwMessageTextCreator\r\n\r\ntype AddMessageCreatorType = {\r\n    type: typeof ADD_MESSAGE\r\n    newMessageText:string\r\n}\r\n\r\n\r\nexport const addMessageCreator = (newMessageText:string): AddMessageCreatorType => ({type: ADD_MESSAGE,newMessageText})\r\n\r\n\r\n\r\n\r\nexport type stateTypeFirst = {\r\n    _state: stateType\r\n    getState: () => stateType\r\n    rerenderEntireTree: (state: any) => void\r\n    subsCribe: (observer: any) => void\r\n    dispatch: (action: any) => void///КАКОЙ ТИп\r\n}\r\n\r\n\r\nexport type dialogsTypeState = {\r\n    dialogs: Array<dialogsDataType>\r\n    messages: Array<dialogsMessagesDataType>\r\n    newMessageText:string\r\n}\r\nexport type stateType = {\r\n    profilePage: postsTypeState\r\n    dialogsPage: dialogsTypeState\r\n    auth:any\r\n}\r\n\r\nexport default dialogsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__1oSBq\",\"appWrapperContent\":\"App_appWrapperContent__1XaWj\",\"asside\":\"App_asside__rZxNa\",\"header\":\"App_header__16V03\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2kDTH\",\"icon\":\"Header_icon__34grh\",\"loginBlock\":\"Header_loginBlock__zRZe6\"};"],"sourceRoot":""}