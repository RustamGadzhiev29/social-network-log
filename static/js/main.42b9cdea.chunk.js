(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{15:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var a,r=n(157),o=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"9d9825bb-ccb6-4efe-8fcf-e888d69867c3"}}),c={getUsers:function(e,t){return o.get("users?page=".concat(e,"&count=").concat(t))},unFollowUsers:function(e){return o.delete("follow/".concat(e)).then((function(e){return e.data}))},followUsers:function(e){return o.post("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return o.get("profile/".concat(e,"/"))}},s={getProfile:function(e){return o.get("profile/".concat(e))},getStatus:function(e){return o.get("profile/status/".concat(e))},updateStatus:function(e){return o.put("profile/status/",{status:e})},saveProfile:function(e){return o.put("profile",e)},savePhoto:function(e){var t=new FormData;return t.append("image",e),o.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})}},u={getCaptchaUrl:function(){return o.get("security/get-captcha-url")}},i={me:function(){return o.get("auth/me").then((function(e){return e.data}))},authUsers:function(){return o.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return o.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a})},logOut:function(){return o.delete("auth/login")}};!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={}))},158:function(e,t,n){e.exports=n.p+"static/media/iconmen.b3e90dfe.png"},159:function(e,t,n){e.exports=n.p+"static/media/loader.5da69282.svg"},194:function(e,t,n){e.exports=n(321)},23:function(e,t,n){e.exports={nav:"Navbar_nav__183XS",item:"Navbar_item__2LPpK",active:"Navbar_active__3ChxF",myBestFriends:"Navbar_myBestFriends__3XJps"}},321:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),c=n.n(o),s=n(45),u=n(46),i=n(50),l=n(49),p=n(95),m=n.n(p),f=n(23),d=n.n(f),h=n(25),g=function(){return r.a.createElement("nav",{className:d.a.nav},r.a.createElement("div",{className:d.a.item},r.a.createElement(h.b,{to:"/profile",activeClassName:d.a.active},"Profile")),r.a.createElement("div",{className:d.a.item},r.a.createElement(h.b,{to:"/dialogs",activeClassName:d.a.active},"Messages")),r.a.createElement("div",{className:d.a.item},r.a.createElement(h.b,{to:"/users",activeClassName:d.a.active},"Users")),r.a.createElement("div",{className:d.a.item},r.a.createElement(h.b,{to:"/news",activeClassName:d.a.active},"News")),r.a.createElement("div",{className:d.a.item},r.a.createElement(h.b,{to:"/music",activeClassName:d.a.active},"Music")),r.a.createElement("div",{className:d.a.item},r.a.createElement(h.b,{to:"settings",activeClassName:d.a.active},"Settings")))},v=n(11),b=function(){return r.a.createElement("p",null,"CHECK News")},E=function(){return r.a.createElement("p",null,"CHECK Music")},_=function(){return r.a.createElement("p",null,"Check settings")},O=n(16),w=n(9),C=n.n(w),j=n(18),y=n(56),P=n(5),S=n(15),k=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(P.a)(Object(P.a)({},e),a):e}))},T={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[2,3]};var N=function(e){return{type:I,userId:e}},x=function(e){return{type:F,userId:e}},A=function(e){return{type:B,isFetching:e}},U=function(e,t){return{type:M,isFetching:e,userId:t}},F="UNFOLLOW",I="FOLLOW_UP",L="SET_USERS",D="SET_CURRENT_PAGE",z="SET_TOTAL_COUNT",B="IS_FETCHING",M="IS_FOLLOWING_PROGRESS",H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(P.a)(Object(P.a)({},e),{},{users:k(e.users,t.userId,"id",{followed:!0})});case F:return Object(P.a)(Object(P.a)({},e),{},{users:k(e.users,t.userId,"id",{followed:!1})});case L:return Object(P.a)(Object(P.a)({},e),{},{users:t.users});case D:return Object(P.a)(Object(P.a)({},e),{},{currentPage:t.currentPage});case z:return Object(P.a)(Object(P.a)({},e),{},{totalUsersCount:t.totalCount});case B:return Object(P.a)(Object(P.a)({},e),{},{isFetching:t.isFetching});case M:return Object(P.a)(Object(P.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(y.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},R=n(119),G=n(75),W=n.n(G),q=function(e){for(var t=e.pageSize,n=e.currentPage,o=e.totalItemsCount,c=e.onPageChanged,s=e.portionSize,u=void 0===s?10:s,i=Math.ceil(o/t),l=[],p=1;p<=i;p++)l.push(p);var m=Math.ceil(i/u),f=Object(a.useState)(1),d=Object(R.a)(f,2),h=d[0],g=d[1],v=(h-1)*u+1,b=h*u;return console.log(m),r.a.createElement("div",null,h>1&&r.a.createElement("button",{className:W.a.myButton,onClick:function(){return g(h-1)}},"prev"),l.filter((function(e){return e>=v&&e<=b})).map((function(e){return r.a.createElement("span",{className:n===e?W.a.selectPage:W.a.pages,onClick:function(t){c(e)},key:e},e)})),m>h&&r.a.createElement("button",{className:W.a.myButton,onClick:function(){return g(h+1)}},"Next"))},X=n(40),Z=n.n(X),J=n(158),K=n.n(J),V=function(e){var t=e.users;return r.a.createElement("div",{className:Z.a.block},r.a.createElement("span",null,r.a.createElement("div",{className:Z.a.container},r.a.createElement(h.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:K.a,className:Z.a.userPhoto}))),r.a.createElement("div",{className:Z.a.additionalContainer},t.followed?r.a.createElement("button",{className:Z.a.myButton,disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unFollowThunkCreator(t.id)}},"Unfollow"):r.a.createElement("button",{className:Z.a.myButton,disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.followThunkCreator(t.id)}},"Follow"))),r.a.createElement("div",{className:Z.a.info},r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement("b",null,"Nickname"),": ",t.name),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("b",null,"Location"),":",t.status)),r.a.createElement("span",null,r.a.createElement("div",null,"u.location.country"),r.a.createElement("div",null,"u.location.city")))))};var Q=function(e){return r.a.createElement("div",null,e.users.map((function(t){return r.a.createElement(V,{users:t,followingInProgress:e.followingInProgress,followThunkCreator:e.followThunkCreator,unFollowThunkCreator:e.unFollowThunkCreator,key:t.id})})),r.a.createElement(q,{pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalItemsCount:e.totalUsersCount}))},Y=n(52),$=n(10),ee=function(e){return e.usersPage.users},te=function(e){return e.usersPage.pageSize},ne=function(e){return e.usersPage.totalUsersCount},ae=function(e){return e.usersPage.currentPage},re=function(e){return e.usersPage.isFetching},oe=function(e){return e.usersPage.followingInProgress},ce=function(e){return e.auth.isAuth},se=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsersTC(t,e.props.pageSize)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersTC(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,this.props.pageTitle),this.props.isFetching?r.a.createElement(Y.a,null):null,r.a.createElement(Q,{pageSize:this.props.pageSize,currentPage:this.props.currentPage,name:this.props.name,users:this.props.users,follow:this.props.follow,onPageChanged:this.onPageChanged,status:this.props.status,totalUsersCount:this.props.totalUsersCount,unFollow:this.props.unFollow,followingInProgress:this.props.followingInProgress,followThunkCreator:this.props.followThunkCreator,unFollowThunkCreator:this.props.unFollowThunkCreator}))}}]),n}(r.a.Component),ue=Object($.d)(Object(O.b)((function(e){return{users:ee(e),pageSize:te(e),totalUsersCount:ne(e),currentPage:ae(e),isFetching:re(e),followingInProgress:oe(e),isAuth:ce(e)}}),{follow:N,unFollow:x,followThunkCreator:function(e){return function(){var t=Object(j.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(U(!0,e)),t.next=3,S.e.followUsers(e);case 3:0===t.sent.resultCode&&n(N(e)),n(U(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollowThunkCreator:function(e){return function(){var t=Object(j.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(U(!0,e)),t.next=3,S.e.unFollowUsers(e);case 3:t.sent.resultCode===S.a.Success&&n(x(e)),n(U(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUsersTC:function(e,t){return function(){var n=Object(j.a)(C.a.mark((function n(a,r){var o;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(A(!0)),a({type:D,currentPage:e}),n.next=4,S.e.getUsers(e,t);case 4:o=n.sent,a(A(!1)),a((c=o.data.items,{type:L,users:c})),a((r=o.data.totalCount,{type:z,totalCount:r}));case 8:case"end":return n.stop()}var r,c}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}))(se),ie=n(96),le=n.n(ie),pe=n(160),me=n(161),fe=function(e){return r.a.createElement("header",{className:le.a.header},r.a.createElement(pe.a,{icon:me.a,className:le.a.icon}),r.a.createElement("div",{className:le.a.loginBlock},e.isAuth?r.a.createElement("div",null,e.login," - ",r.a.createElement("button",{onClick:e.loginOutTC},"LogOut")," "):r.a.createElement(h.b,{to:"/login"},"Login")))},de=n(44),he={initialized:!1,error:null};var ge=function(e){return{type:be,error:e}},ve="INITIALIZED_SUCCESED",be="SET_APP_ERROR",Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return Object(P.a)(Object(P.a)({},e),{},{initialized:!0});case be:return Object(P.a)(Object(P.a)({},e),{},{error:t.error});default:return e}},_e={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null};var Oe=function(e,t,n,a){return{type:je,payload:{userId:e,email:t,login:n,isAuth:a}}},we=function(){return function(){var e=Object(j.a)(C.a.mark((function e(t){var n,a,r,o,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.b.me();case 2:(n=e.sent).resultCode===S.a.Success&&(a=n.data,r=a.id,o=a.email,c=a.login,t(Oe(r,o,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ce=function(){return function(){var e=Object(j.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.d.getCaptchaUrl();case 2:n=e.sent,a=n.data.url,t({type:ye,payload:{captchaUrl:a}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},je="social-network/auth/SET_USER_DATA",ye="social-network/auth/GET_CAPTCHAURL_SUCCESS",Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:case ye:return Object(P.a)(Object(P.a)({},e),t.payload);default:return e}},Se=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){return r.a.createElement(fe,this.props)}}]),n}(r.a.Component),ke=Object(O.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{getAuthUserData:we,loginOutTC:function(){return function(){var e=Object(j.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.b.logOut();case 2:0===e.sent.data.resultCode&&t(Oe(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Se),Te=n(153),Ne=n(154),xe=n(62),Ae=n(78),Ue=Object(Ne.a)({form:"login"})((function(e){return console.log(e.captchaUrl),r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(Te.a,{placeholder:"Email",name:"email",component:xe.a,validate:[Ae.b]})),r.a.createElement("div",null,r.a.createElement(Te.a,{placeholder:"Password",name:"password",type:"password",validate:[Ae.b],component:xe.a})),r.a.createElement("div",null,r.a.createElement(Te.a,{component:xe.a,name:"rememberMe",type:"checkbox"})," remember me"),e.captchaUrl&&r.a.createElement("img",{src:e.captchaUrl}),e.captchaUrl&&r.a.createElement("div",null,r.a.createElement(Te.a,{placeholder:"symbols from image",name:"captcha",validate:[Ae.b],component:xe.a})," remember me"),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))})),Fe=function(){var e=Object(O.d)((function(e){return e.auth.isAuth})),t=Object(O.d)((function(e){return e.auth.captchaUrl})),n=Object(O.c)();return e?r.a.createElement(v.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"LOGIN"),r.a.createElement(Ue,{onSubmit:function(e){var t,a,r,o;n((t=e.email,a=e.password,r=e.rememberMe,o=e.captcha,function(){var e=Object(j.a)(C.a.mark((function e(n){var c,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.b.login(t,a,r,o);case 2:(c=e.sent).data.resultCode===S.a.Success?n(we()):(c.data.resultCode===S.a.CaptchaIsRequired&&n(Ce()),s=c.data.messages.length>0?c.data.messages[0]:"Some error",n(Object(de.a)("login",{_error:s})),n(ge(s)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},captchaUrl:t}))},Ie=n(87),Le=n(89),De=n(163),ze=n(155),Be={login:"",password:1};var Me="SET_LOGIN",He=Object($.c)({profilePage:Ie.b,dialogsPage:Le.b,usersPage:H,auth:Pe,form:ze.a,loginPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(P.a)(Object(P.a)({},e),{},{login:t.login,password:t.password});default:return e}},app:Ee}),Re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||$.d,Ge=Object($.e)(He,Re(Object($.a)(De.a)));window.store=Ge;var We=Ge,qe=n(344),Xe=n(343);function Ze(e){return r.a.createElement(Xe.a,Object.assign({elevation:6,variant:"filled"},e))}function Je(){var e=Object(O.d)((function(e){return e.app.error})),t=Object(O.c)(),n=function(e,n){"clickaway"!==n&&t(ge(null))},a=null!==e;return r.a.createElement(qe.a,{open:a,autoHideDuration:3e3,onClose:n},r.a.createElement(Ze,{onClose:n},e))}var Ke=n(77),Ve=n.n(Ke),Qe={_state:{profilePage:{posts:[{id:1,message:"Hi, how are you?",countLikes:10},{id:2,message:"Hi, how are you?",countLikes:133},{id:3,message:"Hi, how are you?",countLikes:4432}],newPostText:"it-kamasutra",profile:null},dialogsPage:{dialogs:[{id:1,name:"Artemy"},{id:2,name:"Alevtina"},{id:3,name:"Akseniya"},{id:4,name:"Afonasii"},{id:5,name:"Belanton"},{id:6,name:"Stephan"},{id:7,name:"Stephan"},{id:8,name:"Stephan"},{id:9,name:"Stephan"}],messages:[{id:1,message:"Halllooo?"}],newMessageText:""}},getState:function(){return this._state},subsCribe:function(e){this.rerenderEntireTree=e},rerenderEntireTree:function(e){console.log("state changed")},dispatch:function(e){this._state.profilePage=Object(Ie.b)(this._state.profilePage,e),this._state.dialogsPage=Object(Le.b)(this._state.dialogsPage,e),this.rerenderEntireTree(this._state)}},Ye=function(){var e=Qe._state.dialogsPage.dialogs.map((function(e){return r.a.createElement("div",{className:Ve.a.container,key:e.id},r.a.createElement("br",null),r.a.createElement("img",{className:Ve.a.photoFriend,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcS4bkPT14o4_n_lnU-3DNyZol1LE0vParolHN-kXQTD8exgO4-8&usqp=CAU"}),e.name)}));return r.a.createElement("div",{className:Ve.a.myBestFriends},r.a.createElement("span",{className:Ve.a.profileFriend},"           ",e))},$e=r.a.lazy((function(){return n.e(4).then(n.bind(null,353))})),et=r.a.lazy((function(){return n.e(3).then(n.bind(null,352))})),tt=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhandledErrors=function(t,n){e.props.setAppErrorAC("error"),console.log(e.props.error)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeAppTC(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return r.a.createElement("div",{className:m.a.appWrapper}," "!==this.props.error&&r.a.createElement(Je,null),r.a.createElement(ke,null),r.a.createElement(g,null),r.a.createElement("div",{className:m.a.appWrapperContent},r.a.createElement(v.b,{exact:!0,path:"/dialogs",render:(e=$e,function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(Y.a,null)},r.a.createElement("div",null,r.a.createElement(e,t)))})}),r.a.createElement(v.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(Y.a,null)},r.a.createElement("div",null,r.a.createElement(et,null)))}}),r.a.createElement(v.b,{path:"/users",render:function(){return r.a.createElement(ue,{pageTitle:"Logists"})}}),r.a.createElement(v.b,{path:"/login",render:function(){return r.a.createElement(Fe,null)}}),r.a.createElement(v.b,{path:"/news",component:b}),r.a.createElement(v.b,{path:"/music",component:E}),r.a.createElement(v.b,{path:"/settings",component:_})),r.a.createElement("div",{className:m.a.asside},r.a.createElement(Ye,null)));var e}}]),n}(r.a.Component),nt=Object($.d)(v.f,Object(O.b)((function(e){return{initialized:e.app.initialized,error:e.app.error}}),{initializeAppTC:function(){return function(e){var t=e(we());Promise.all([t]).then((function(){e({type:ve})}))}},setAppErrorAC:ge}))(tt),at=function(e){return r.a.createElement(h.a,null,r.a.createElement(O.a,{store:We},r.a.createElement(nt,null)))};c.a.render(r.a.createElement(at,null),document.getElementById("root"))},40:function(e,t,n){e.exports={block:"users_block__3L5ug",container:"users_container__27-GU",userPhoto:"users_userPhoto__fo4f3",additionalContainer:"users_additionalContainer__BZe4v",info:"users_info__3t29r",selectPage:"users_selectPage__3tqf3",myButton:"users_myButton__18zGt"}},52:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(159),c=n.n(o);t.a=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:c.a}))}},62:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return i}));var a=n(118),r=n(0),o=n.n(r),c=n(69),s=n.n(c),u=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),c=n.touched&&n.error;return o.a.createElement("div",{className:s.a.formControl+" "+(c?s.a.error:" ")},o.a.createElement("div",null,o.a.createElement("textarea",Object.assign({},t,r))),c&&o.a.createElement("span",null,n.error))},i=function(e){var t=e.input,n=e.meta,r=n.touched,c=n.error,u=Object(a.a)(e,["input","meta"]),i=r&&c;return o.a.createElement("div",{className:s.a.formControl+" "+(i?s.a.error:" ")},o.a.createElement("div",null,o.a.createElement("input",Object.assign({},t,u))),i&&o.a.createElement("span",null,c))}},69:function(e,t,n){e.exports={formControl:"FormControls_formControl__39tW4",error:"FormControls_error__PVT-W",formSummaryError:"FormControls_formSummaryError__1yGDf"}},75:function(e,t,n){e.exports={selectPage:"Paginator_selectPage__2qcse",pages:"Paginator_pages__1nTkM",myButton:"Paginator_myButton__2nvIy"}},77:function(e,t,n){e.exports={myBestFriends:"bestFriends_myBestFriends__JSenE",photoFriend:"bestFriends_photoFriend__3GGss",profileFriend:"bestFriends_profileFriend__3oNZx"}},78:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field required"},r=function(e){return function(t){if(t.length>e)return"Max lenght is ".concat(e," symbols")}}},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return E}));var a=n(9),r=n.n(a),o=n(18),c=n(56),s=n(5),u=n(15),i=n(44),l=n(76),p={posts:[{id:Object(l.v1)(),message:"Hi, how are you?",countLikes:10},{id:Object(l.v1)(),message:"Hi, any news?",countLikes:133},{id:Object(l.v1)(),message:"How long have you been here?",countLikes:4432}],profile:null,status:"",newPostText:""};var m=function(e){return{type:_,newPostText:e}},f=function(e){return{type:C,status:e}},d=function(e){return{type:j,postId:e}},h=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.e.getProfile(e);case 2:a=t.sent,n((r=a.data,{type:O,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.getStatus(e);case 2:a=t.sent,n((r=a.data,{type:w,status:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.c.updateStatus(e);case 3:0===t.sent.data.resultCode&&n(f(e)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.savePhoto(e);case 2:0===(a=t.sent).data.resultCode&&n((r=a.data.data.photos,{type:y,photo:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n,a){var o,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a().auth.userId,t.next=3,u.c.saveProfile(e);case 3:if(0!==(c=t.sent).data.resultCode){t.next=8;break}n(h(o)),t.next=10;break;case 8:return n(Object(i.a)("profileDataForm",{_error:c.data.messages[0]})),t.abrupt("return",Promise.reject(c.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},_="ADD-POST",O="SET_USER_PROFILE",w="SET_STATUS_PROFILE",C="SET_STATUS_UPDATE",j="DELETE_POST",y="SET_SAVE_PHOTO";t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:var n={id:Object(l.v1)(),message:t.newPostText,countLikes:0};return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(c.a)(e.posts),[n])});case O:return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case w:case C:return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case j:return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case y:return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.photo})});default:return e}}},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(56),r=n(5),o={dialogs:[{id:1,name:"Artemy"},{id:2,name:"Alevtina"},{id:3,name:"Akseniya"},{id:4,name:"Afonasii"},{id:5,name:"Belanton"},{id:6,name:"Stephan"},{id:7,name:"Stephan"},{id:8,name:"Stephan"},{id:9,name:"Stephan"}],messages:[{id:1,message:"Hello, how is it going?"}],newMessageText:""};var c=function(e){return{type:"ADD-MESSAGE",newMessageText:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":var n=t.newMessageText,c=Object(r.a)(Object(r.a)({},e),{},{newMessageText:"",messages:[].concat(Object(a.a)(e.messages),[{id:77,message:n}])});return c;default:return e}}},95:function(e,t,n){e.exports={appWrapper:"App_appWrapper__1oSBq",appWrapperContent:"App_appWrapperContent__1XaWj",asside:"App_asside__rZxNa",header:"App_header__16V03"}},96:function(e,t,n){e.exports={header:"Header_header__2kDTH",icon:"Header_icon__34grh",loginBlock:"Header_loginBlock__zRZe6"}}},[[194,1,2]]]);
//# sourceMappingURL=main.42b9cdea.chunk.js.map